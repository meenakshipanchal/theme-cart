{% liquid
  assign kitdata = shop.metaobjects.cart_drawer_list.RewordsSections
  assign kitdata_product = kitdata.products.value
%}
<section class="cart-recommend-product">
  <h3>Recommendations for you</h3>
  <div class="recommend-products active-scroll">
    {%- for recommend_product in kitdata_product -%}
      <div class="recommend-product">
        <figure>
            <a href="{{ main_product.url }}">
            {{
              recommend_product.featured_media
              | image_url: width: 200
              | image_tag: widths: '50,100,200', class: 'motion-reduce', loading: 'lazy', alt: recommend_product.title
            }}</a>
          </figure>
          <div>
            <h6>{{ recommend_product.title }}</h6>
            <div class="button-with-price">
              <span class="price"><s>{{ recommend_product.compare_at_price | money }}</s><strong>{{ recommend_product.price | money }}</strong></span>
              <div class="quick-add no-js-hidden">
                {%- liquid
                  assign ids = recommend_product.selected_or_first_available_variant.id
                  assign product_form_id = 'quick-add-' | append: section_id | append: ids
                -%}
                <product-form data-section-id="{{ section.id }}">
                  {%- form 'product',
                    recommend_product,
                    id: product_form_id,
                    class: 'form',
                    novalidate: 'novalidate',
                    data-type: 'add-to-cart-form'
                  -%}
                    <input
                      type="hidden"
                      name="id"
                      value="{{ ids }}"
                      class="product-variant-id"
                    >
                    <input type="hidden" name="properties[_type]" value="winter">
                    <button
                      id="{{ product_form_id }}-submit"
                      type="submit"
                      name="add"
                      class="quick-add__submit button button--primary"
                      aria-haspopup="dialog"
                      aria-labelledby="{{ product_form_id }}-submit title-{{ section_id }}-{{ ids }}"
                      aria-live="polite"
                      data-sold-out-message="true"
                    >
                      <span> Add </span>
                      {%- render 'loading-spinner' -%}
                    </button>
                  {%- endform -%}
                </product-form>
              </div>
            </div>
          </div>
      </div>
    {%- endfor -%}
  </div>
</section>
<style>
  .cart-recommend-product {
    padding: 10px;
  }
  .cart-recommend-product h3 {
    margin: 0 0 10px;
    color: #235A49;
    font-weight: 600;
  }
  .cart-recommend-product figure {
    margin: 0;
  }
  .cart-recommend-product img {
    max-width: 70%;
    height: auto;
    border-radius: 0.6rem;
    display: block;
    margin: auto;
  }
  .recommend-products {
    display: flex;
    overflow: auto;
    padding: 0 5px 8px;
  }
  .recommend-products h6 {
    text-align: center;
    font-size: 12px;
    margin: 1.1rem 0 0.75rem;
  }
  .recommend-product {
    width: 220px;
    flex: 0 0 165px;
    padding: 10px;
    box-shadow: 0px 4px 4px 0px #00000040;
    border-radius: 0.8rem;
  }
  .recommend-product, .recommend-product > div {
    display: flex;
    flex-direction: column;
  }
  .recommend-product > div {
    height: -webkit-fill-available;
    justify-content: space-between;
  }
  .recommend-product:not(:last-child) {
    margin-right: 1rem;
  }
  .button-with-price .quick-add button {
    height: 24px; border-radius: 3px; font-size: 12px;
  }
</style>