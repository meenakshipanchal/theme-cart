{% layout none %}

{% comment %} Get the variant ID from URL parameter {% endcomment %}
{% assign variant_id_param = request.params.variant %}
{% assign selected_variant = product.selected_or_first_available_variant %}

{% comment %} If variant param exists, find that specific variant {% endcomment %}
{% if variant_id_param %}
  {% for variant in product.variants %}
    {% assign variant_id_string = variant.id | append: '' %}
    {% assign param_string = variant_id_param | append: '' %}
    {% if variant_id_string == param_string %}
      {% assign selected_variant = variant %}
      {% break %}
    {% endif %}
  {% endfor %}
{% endif %}

<li class="grid__item">
  {% render 'variant-product',
    card_product: selected_variant,
    product: product,
    media_aspect_ratio: 'adapt',
    image_shape: 'default',
    show_secondary_image: false,
    show_vendor: false,
    show_rating: true,
    quick_add: 'standard'
  %}
</li>
