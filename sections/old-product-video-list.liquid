<div class="swiper-outer" >
   <div class="wrapper page-width">
      <h2>{{ section.settings.heading | escape }}</h2>
      <div class="swiper--container">
         <div class="swiper-wrapper">
           {% for block in section.blocks %}
             <div class="swiper-slide">
               <div class="video-outer">
               {%- if block.settings.video_url.type == 'youtube' -%}
                  <iframe src="https://www.youtube.com/embed/{{ block.settings.video_url.id }}?autoplay=0&enablejsapi=1" class="js-youtube" allow="autoplay;muted; encrypted-media" allowfullscreen title="{{ section.settings.description | escape }}"></iframe>
                {%- else -%}
                  <iframe src="https://player.vimeo.com/video/{{ block.settings.video_url.id }}" class="js-vimeo" allowfullscreen title="{{ section.settings.title | escape }}"></iframe>
                {%- endif -%}
               </div>
                 <h3>{{ block.settings.title | escape }}</h3>
                 {{ block.settings.description }}
             </div>
           {% endfor %}
         </div>
      </div>
   </div>
</div>
<style>
  .product-video-list { padding-top: 10px; padding-bottom: 10px; }
  .video-outer { position: relative; width: 100%; padding-top: 75%; }
  .video-outer iframe { position: absolute; border: 0; top: 0; border-radius: 10% 10% 30% 10%; height: 100%; width: 100%; }
  .product-video-list .swiper-slide { padding-left: 7px; padding-right: 7px; }
  .product-video-list h3 { margin-bottom: 8px; }
  @media (min-width: 761px) { 
    .product-video-list h2 { text-align: center; }
    .product-video-list .swiper-slide { flex: 33.333%; }
  }
  @media (max-width: 760px) {
    .product-video-list .swiper-slide { width: 85%; flex: 0 0 85%; }
    .product-video-list .page-width { padding: 0; }
    .product-video-list h2 { padding-left: 15px; padding-right: 15px; }
    .product-video-list .swiper-wrapper { padding-left: 8px; padding-right: 8px;}
  }
</style>
{% schema %}
{
    "name": "Product Video List",
    "class": "product-video-list",
    "max_blocks": 12,
    "settings": [
        {
            "type": "text",
            "id": "heading",
            "label": "Heading"
        },
        {
            "type": "range",
            "id": "desk",
            "label": "Items",
            "min": 2,
            "max": 5,
            "step": 1,
            "default": 2
        },
        {
            "type": "range",
            "id": "mob",
            "label": "Items",
            "min": 1,
            "max": 3,
            "step": 1,
            "default": 1
        },
        {
            "type": "checkbox",
            "id": "show-slide-arrows",
            "label": "Show slide arrows",
            "default": true
        }
    ],
    "blocks": [
        {
            "type": "video",
            "name": "Video",
            "settings": [
                {
                    "type": "text",
                    "id": "title",
                    "label": "Heading"
                },
                {
                  "type": "video_url",
                  "id": "video_url",
                  "accept": [
                    "youtube",
                    "vimeo"
                  ],
                  "default": "https://www.youtube.com/watch?v=_9VUPq3SxOc",
                  "label": "t:sections.video.settings.video_url.label",
                  "placeholder": "t:sections.video.settings.video_url.placeholder",
                  "info": "t:sections.video.settings.video_url.info"
                },
                {
                  "type": "text",
                  "id": "description",
                  "label": "t:sections.video.settings.description.label",
                  "info": "t:sections.video.settings.description.info"
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Product Video List",
            "category": "Video",
            "blocks": [
                {
                    "type": "video"
                },
                {
                    "type": "video"
                }
            ]
        }
    ]
}
{% endschema %}